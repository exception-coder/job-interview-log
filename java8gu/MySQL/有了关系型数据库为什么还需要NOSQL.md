## 1）10 行极简速记版（小红书爆款风）

✔ NoSQL = 高并发场景的“性能外挂”
🔥 关系型追求强一致，性能被 ACID 牢牢拽住
📌 NoSQL 天生灵活，无需提前建表结构
🚀 Key-Value 模式让读写速度直接起飞
🧠 大规模、高变化数据？关系型根本忙不过来
⚠️ SQL 强一致换来的是牺牲吞吐
📈 NoSQL 弱一致但扩展性爆表
🔍 关系型适合结构化；NoSQL 适合海量非结构化
✨ Redis/Mongo 专精缓存与高性能查询
➤ 核心矛盾：一致性 vs 性能，选型看场景

## 2）折叠式知识卡片版

<details>
<summary>定义</summary>

* **关系型数据库（RDBMS）**：基于二维表结构存储，支持 SQL，遵循 ACID，强调一致性。
* **非关系型数据库（NoSQL）**：非表结构存储（如 Key-Value、文档），弱化 ACID，更注重高并发、灵活性与扩展性。

</details>

<details>
<summary>原理</summary>

* RDBMS 为维护强一致性，需要锁、日志、磁盘落盘，导致延迟高、吞吐受限。
* NoSQL 避免复杂事务与固定模式设计，基于内存或轻量结构存储，实现低延迟、高扩展性。
* Key-Value 模型将查找路径简化为一次哈希定位，去掉多表关联与磁盘 I/O。

</details>

<details>
<summary>关键点</summary>

* RDBMS：表结构、SQL、ACID、强一致性、磁盘存储。
* NoSQL：Key-Value、弱一致性、高可扩展、多模型、内存/轻量磁盘。
* RDBMS 支持复杂查询；NoSQL 结构自由但查询模型受限。
* ACID 带来一致性优势但牺牲性能；NoSQL 反之。

</details>

<details>
<summary>扩展知识</summary>

文档未涵盖但可合理补充：

* CAP 理论指导分布式数据库选型：NoSQL 多选 AP 或 CP；RDBMS 倾向 CA。
* NoSQL 常见类别：KV（Redis）、文档（MongoDB）、列式（HBase）、图数据库（Neo4j）。

</details>

## 3）面试官追问（Q&A）

问：为什么关系型数据库在高并发下会慢？
答：强一致性要求多步操作（锁、日志、磁盘刷写），时间成本高，无法支撑大规模请求。

问：NoSQL 为什么更适合高并发场景？
答：弱化事务、内存存储、简化结构，使得访问路径更短、延迟更低。

问：关系型数据库与 NoSQL 的本质差异是什么？
答：一致性 vs 性能；结构化 vs 灵活性；磁盘事务模型 vs 内存/文档模型。

问：为什么 NoSQL 不适合复杂查询？
答：缺乏关系模型，无法通过任意字段索引或 JOIN 实现复杂查询逻辑。

问：NoSQL 是否完全不支持事务？
答：不是，部分如 MongoDB 集群模式可支持事务，但粒度和能力比 RDBMS 弱。

问：什么时候应该使用关系型数据库？
答：需要强一致、复杂查询、事务严肃性高的业务（如订单、账务）。

问：什么时候必须用 NoSQL？
答：高并发访问、热点 Key、非结构化数据、大规模缓存场景（如 Redis、Mongo）。

问：为什么 Redis 以 Key-Value 为中心的结构特别快？
答：内存存储 + O(1) 查询路径 + 无磁盘锁与事务成本。

## 4）示意图（ASCII）

```
数据库选型对比

关系型（RDBMS）
┌─────────────┐
│  表结构 + SQL │
│  ACID 强一致  │
│  磁盘存储     │
│  复杂查询强    │
└─────────────┘

非关系型（NoSQL）
┌─────────────┐
│  Key-Value    │
│  弱一致/高并发 │
│  内存/轻量磁盘 │
│  扩展性爆表    │
└─────────────┘

适用场景：
RDBMS → 事务型、结构化  
NoSQL → 高并发、海量数据、缓存与快速查询
```
